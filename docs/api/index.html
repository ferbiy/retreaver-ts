<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Retreaver JavaScript API - v1.0.0</title><meta name="description" content="Documentation for Retreaver JavaScript API"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="https://github.com/retreaver/retreaverjs" class="title">Retreaver JavaScript API - v1.0.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Retreaver JavaScript API - v1.0.0</h2></div><div class="tsd-panel tsd-typography"><a id="md:retreaver-javascript-api---typescript-edition" class="tsd-anchor"></a><h1><a href="#md:retreaver-javascript-api---typescript-edition">Retreaver JavaScript API - TypeScript Edition</a></h1><p><a href="https://badge.fury.io/js/%40retreaver%2Fretreaver-js"><img src="https://badge.fury.io/js/%40retreaver%2Fretreaver-js.svg" alt="npm version"></a></p>
<p>A complete TypeScript rewrite of the Retreaver JavaScript API client library, maintaining 100% compatibility with the original while adding comprehensive type safety and modern development features.</p>
<a id="md:🚀-features" class="tsd-anchor"></a><h2><a href="#md:🚀-features">🚀 Features</a></h2><ul>
<li><strong>100% TypeScript</strong>: Full type safety with comprehensive interfaces</li>
<li><strong>100% Backward Compatible</strong>: Drop-in replacement for the original JavaScript library</li>
<li><strong>Multiple Build Targets</strong>: CommonJS, ES Modules, and UMD browser bundle</li>
<li><strong>Modern NPM Package</strong>: Proper package structure with TypeScript definitions</li>
<li><strong>Tree Shakable</strong>: ES modules support for optimal bundle sizes</li>
<li><strong>Legacy Browser Support</strong>: Maintains IE6+ compatibility from original library</li>
<li><strong>Third-party Integrations</strong>: Google Analytics, TrueCall, RedTrack, ClickFlare support</li>
</ul>
<a id="md:📦-installation" class="tsd-anchor"></a><h2><a href="#md:📦-installation">📦 Installation</a></h2><a id="md:npmyarn-recommended" class="tsd-anchor"></a><h3><a href="#md:npmyarn-recommended">NPM/Yarn (Recommended)</a></h3><pre><code class="language-bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@retreaver/retreaver-js</span><br/><span class="hl-3"># or</span><br/><span class="hl-0">yarn</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">@retreaver/retreaver-js</span>
</code><button>Copy</button></pre>
<a id="md:cdn-browser" class="tsd-anchor"></a><h3><a href="#md:cdn-browser">CDN (Browser)</a></h3><pre><code class="language-html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-6"> </span><span class="hl-7">src</span><span class="hl-6">=</span><span class="hl-8">&quot;https://unpkg.com/@retreaver/retreaver-js/dist/browser/retreaver.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:🔧-usage" class="tsd-anchor"></a><h2><a href="#md:🔧-usage">🔧 Usage</a></h2><a id="md:typescriptes-modules" class="tsd-anchor"></a><h3><a href="#md:typescriptes-modules">TypeScript/ES Modules</a></h3><pre><code class="language-typescript"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">Campaign</span><span class="hl-1">, </span><span class="hl-10">configure</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@retreaver/retreaver-js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Configure the library</span><br/><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;api.rtvrapi.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">prefix:</span><span class="hl-1"> </span><span class="hl-2">&#39;https&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Create a campaign</span><br/><span class="hl-11">const</span><span class="hl-1"> </span><span class="hl-12">campaign</span><span class="hl-1"> = </span><span class="hl-11">new</span><span class="hl-1"> </span><span class="hl-0">Campaign</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-10">campaign_key:</span><span class="hl-1"> </span><span class="hl-2">&#39;67d9fb1917ae8f4eaff36831b41788c3&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">// Request a number with type safety</span><br/><span class="hl-10">campaign</span><span class="hl-1">.</span><span class="hl-0">requestNumber</span><span class="hl-1">({ </span><span class="hl-10">home_value:</span><span class="hl-1"> </span><span class="hl-2">&#39;50000&#39;</span><span class="hl-1"> }, (</span><span class="hl-10">number</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;formatted_number&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">  </span><br/><span class="hl-1">  </span><span class="hl-3">// Add tags with full intellisense</span><br/><span class="hl-1">  </span><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">addTags</span><span class="hl-1">({ </span><br/><span class="hl-1">    </span><span class="hl-10">date_of_birth:</span><span class="hl-1"> </span><span class="hl-2">&#39;1980/01/01&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-10">interested_in:</span><span class="hl-1"> </span><span class="hl-2">&#39;solar_panels&#39;</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:commonjs-nodejs" class="tsd-anchor"></a><h3><a href="#md:commonjs-nodejs">CommonJS (Node.js)</a></h3><pre><code class="language-javascript"><span class="hl-11">const</span><span class="hl-1"> { </span><span class="hl-12">Campaign</span><span class="hl-1">, </span><span class="hl-12">configure</span><span class="hl-1"> } = </span><span class="hl-0">require</span><span class="hl-1">(</span><span class="hl-2">&#39;@retreaver/retreaver-js&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;api.rtvrapi.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">prefix:</span><span class="hl-1"> </span><span class="hl-2">&#39;https&#39;</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-11">const</span><span class="hl-1"> </span><span class="hl-12">campaign</span><span class="hl-1"> = </span><span class="hl-11">new</span><span class="hl-1"> </span><span class="hl-0">Campaign</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-10">campaign_key:</span><span class="hl-1"> </span><span class="hl-2">&#39;67d9fb1917ae8f4eaff36831b41788c3&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:browser-global" class="tsd-anchor"></a><h3><a href="#md:browser-global">Browser (Global)</a></h3><pre><code class="language-html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-6"> </span><span class="hl-7">src</span><span class="hl-6">=</span><span class="hl-8">&quot;https://unpkg.com/@retreaver/retreaver-js/dist/browser/retreaver.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span><br/><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-4">&gt;</span><br/><span class="hl-3">// Works exactly like the original library</span><br/><span class="hl-10">Retreaver</span><span class="hl-6">.</span><span class="hl-0">configure</span><span class="hl-6">({</span><br/><span class="hl-6">  </span><span class="hl-10">host:</span><span class="hl-6"> </span><span class="hl-2">&#39;api.rtvrapi.com&#39;</span><span class="hl-6">,</span><br/><span class="hl-6">  </span><span class="hl-10">prefix:</span><span class="hl-6"> </span><span class="hl-2">&#39;https&#39;</span><br/><span class="hl-6">});</span><br/><br/><span class="hl-11">var</span><span class="hl-6"> </span><span class="hl-10">campaign</span><span class="hl-6"> </span><span class="hl-1">=</span><span class="hl-6"> </span><span class="hl-11">new</span><span class="hl-6"> </span><span class="hl-10">Retreaver</span><span class="hl-6">.</span><span class="hl-0">Campaign</span><span class="hl-6">({ </span><br/><span class="hl-6">  </span><span class="hl-10">campaign_key:</span><span class="hl-6"> </span><span class="hl-2">&#39;67d9fb1917ae8f4eaff36831b41788c3&#39;</span><span class="hl-6"> </span><br/><span class="hl-6">});</span><br/><br/><span class="hl-10">campaign</span><span class="hl-6">.</span><span class="hl-0">requestNumber</span><span class="hl-6">({</span><span class="hl-10">home_value:</span><span class="hl-6"> </span><span class="hl-2">&#39;50000&#39;</span><span class="hl-6">}, </span><span class="hl-11">function</span><span class="hl-6"> (</span><span class="hl-10">number</span><span class="hl-6">) {</span><br/><span class="hl-6">  </span><span class="hl-10">document</span><span class="hl-6">.</span><span class="hl-0">getElementById</span><span class="hl-6">(</span><span class="hl-2">&#39;phone&#39;</span><span class="hl-6">).</span><span class="hl-10">innerHTML</span><span class="hl-6"> </span><span class="hl-1">=</span><span class="hl-6"> </span><span class="hl-10">number</span><span class="hl-6">.</span><span class="hl-0">get</span><span class="hl-6">(</span><span class="hl-2">&#39;formatted_number&#39;</span><span class="hl-6">);</span><br/><span class="hl-6">});</span><br/><span class="hl-4">&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:📚-api-reference" class="tsd-anchor"></a><h2><a href="#md:📚-api-reference">📚 API Reference</a></h2><a id="md:campaign-class" class="tsd-anchor"></a><h3><a href="#md:campaign-class">Campaign Class</a></h3><a id="md:constructor" class="tsd-anchor"></a><h4><a href="#md:constructor">Constructor</a></h4><pre><code class="language-typescript"><span class="hl-11">new</span><span class="hl-1"> </span><span class="hl-0">Campaign</span><span class="hl-1">(</span><span class="hl-10">options</span><span class="hl-1">: </span><span class="hl-10">CampaignOptions</span><span class="hl-1">)</span>
</code><button>Copy</button></pre>
<a id="md:methods" class="tsd-anchor"></a><h4><a href="#md:methods">Methods</a></h4><p><strong><code>requestNumber(callback: NumberCallback): void</code></strong>
<strong><code>requestNumber(tags: TagCollection, callback: NumberCallback): void</code></strong>
<strong><code>requestNumber(tags: TagCollection, callback: NumberCallback, errorCallback: ErrorCallback): void</code></strong></p>
<p>Request a phone number from the campaign.</p>
<pre><code class="language-typescript"><span class="hl-10">campaign</span><span class="hl-1">.</span><span class="hl-0">requestNumber</span><span class="hl-1">((</span><span class="hl-10">number</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;formatted_number&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-10">campaign</span><span class="hl-1">.</span><span class="hl-0">requestNumber</span><span class="hl-1">({ </span><span class="hl-10">calling_about:</span><span class="hl-1"> </span><span class="hl-2">&#39;support&#39;</span><span class="hl-1"> }, (</span><span class="hl-10">number</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;number&#39;</span><span class="hl-1">)); </span><span class="hl-3">// E.164 format</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p><strong><code>autoReplaceNumbers(tags?, callback?, errorCallback?): void</code></strong></p>
<p>Automatically replace numbers on the page according to campaign settings.</p>
<a id="md:number-class" class="tsd-anchor"></a><h3><a href="#md:number-class">Number Class</a></h3><a id="md:methods-1" class="tsd-anchor"></a><h4><a href="#md:methods-1">Methods</a></h4><p><strong><code>addTags(tags: TagCollection, callback?: Function): void</code></strong></p>
<pre><code class="language-typescript"><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">addTags</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-10">customer_type:</span><span class="hl-1"> </span><span class="hl-2">&#39;premium&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">source:</span><span class="hl-1"> </span><span class="hl-2">&#39;website&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p><strong><code>replaceTags(tags: TagCollection, callback?: Function): void</code></strong></p>
<pre><code class="language-typescript"><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">replaceTags</span><span class="hl-1">({ </span><br/><span class="hl-1">  </span><span class="hl-10">status:</span><span class="hl-1"> </span><span class="hl-2">&#39;qualified&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">score:</span><span class="hl-1"> </span><span class="hl-2">&#39;85&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<p><strong><code>removeTags(tags: TagCollection, callback?: Function): void</code></strong></p>
<p><strong><code>removeTagsByKeys(keys: string[], callback?: Function): void</code></strong></p>
<p><strong><code>clearTags(callback?: Function): void</code></strong></p>
<p><strong><code>release(): void</code></strong></p>
<p><strong><code>initiateCall(dial: string, payload?: any, callback?: CallCallback): void</code></strong></p>
<pre><code class="language-typescript"><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">initiateCall</span><span class="hl-1">(</span><span class="hl-2">&#39;1234567890&#39;</span><span class="hl-1">, { </span><br/><span class="hl-1">  </span><span class="hl-10">company_name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Acme Corp&#39;</span><span class="hl-1"> </span><br/><span class="hl-1">}, (</span><span class="hl-10">call</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Call started with UUID:&#39;</span><span class="hl-1">, </span><span class="hl-10">call</span><span class="hl-1">.</span><span class="hl-10">uuid</span><span class="hl-1">);</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:properties" class="tsd-anchor"></a><h4><a href="#md:properties">Properties</a></h4><table>
<thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>id</code></td>
<td>number</td>
<td>Number ID</td>
</tr>
<tr>
<td><code>campaign_key</code></td>
<td>string</td>
<td>Campaign key</td>
</tr>
<tr>
<td><code>formatted_number</code></td>
<td>string</td>
<td>Nationally formatted number <code>(866) 898-7878</code></td>
</tr>
<tr>
<td><code>number</code></td>
<td>string</td>
<td>E.164 formatted number <code>+18668987878</code></td>
</tr>
<tr>
<td><code>plain_number</code></td>
<td>string</td>
<td>Unformatted digits <code>8668987878</code></td>
</tr>
<tr>
<td><code>target_open</code></td>
<td>boolean</td>
<td>Whether targets are available</td>
</tr>
<tr>
<td><code>is_per_visitor</code></td>
<td>boolean</td>
<td>Whether number tracks unique visitors</td>
</tr>
<tr>
<td><code>tag_values</code></td>
<td>object</td>
<td>Currently assigned tags</td>
</tr>
</tbody></table>
<a id="md:🔧-configuration" class="tsd-anchor"></a><h2><a href="#md:🔧-configuration">🔧 Configuration</a></h2><pre><code class="language-typescript"><span class="hl-11">interface</span><span class="hl-1"> </span><span class="hl-13">ConfigureOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">host</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;          </span><span class="hl-3">// API hostname</span><br/><span class="hl-1">  </span><span class="hl-10">prefix</span><span class="hl-1">: </span><span class="hl-2">&#39;http&#39;</span><span class="hl-1"> | </span><span class="hl-2">&#39;https&#39;</span><span class="hl-1">; </span><span class="hl-3">// Protocol</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-0">configure</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-10">host:</span><span class="hl-1"> </span><span class="hl-2">&#39;api.rtvrapi.com&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-10">prefix:</span><span class="hl-1"> </span><span class="hl-2">&#39;https&#39;</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:🎯-type-definitions" class="tsd-anchor"></a><h2><a href="#md:🎯-type-definitions">🎯 Type Definitions</a></h2><p>The library includes comprehensive TypeScript definitions:</p>
<pre><code class="language-typescript"><span class="hl-11">interface</span><span class="hl-1"> </span><span class="hl-13">TagCollection</span><span class="hl-1"> {</span><br/><span class="hl-1">  [</span><span class="hl-10">key</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">]: </span><span class="hl-13">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-11">interface</span><span class="hl-1"> </span><span class="hl-13">CampaignOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">campaign_key</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-11">interface</span><span class="hl-1"> </span><span class="hl-13">NumberAttributes</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">id</span><span class="hl-1">: </span><span class="hl-13">number</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">campaign_key</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">formatted_number</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-10">number</span><span class="hl-1">: </span><span class="hl-13">string</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-3">// ... and many more</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-11">type</span><span class="hl-1"> </span><span class="hl-13">NumberCallback</span><span class="hl-1"> = (</span><span class="hl-10">number</span><span class="hl-1">: </span><span class="hl-13">RetreaverNumber</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> </span><span class="hl-13">void</span><span class="hl-1">;</span><br/><span class="hl-11">type</span><span class="hl-1"> </span><span class="hl-13">ErrorCallback</span><span class="hl-1"> = (</span><span class="hl-10">error</span><span class="hl-1">: </span><span class="hl-13">any</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> </span><span class="hl-13">void</span><span class="hl-1">;</span>
</code><button>Copy</button></pre>
<a id="md:🌍-third-party-integrations" class="tsd-anchor"></a><h2><a href="#md:🌍-third-party-integrations">🌍 Third-party Integrations</a></h2><p>The library automatically integrates with various third-party services when configured:</p>
<ul>
<li><strong>Google Analytics</strong>: Automatic session and client ID tracking</li>
<li><strong>TrueCall</strong>: Dynamic script loading and ID tracking</li>
<li><strong>RedTrack</strong>: Click ID extraction and tagging</li>
<li><strong>ClickFlare</strong>: Event token tracking</li>
</ul>
<a id="md:🏗️-build-targets" class="tsd-anchor"></a><h2><a href="#md:🏗️-build-targets">🏗️ Build Targets</a></h2><p>The package provides multiple build targets:</p>
<ul>
<li><strong><code>dist/index.js</code></strong>: CommonJS for Node.js</li>
<li><strong><code>dist/esm/index.js</code></strong>: ES Modules for modern bundlers</li>
<li><strong><code>dist/browser/retreaver.js</code></strong>: UMD bundle for browsers</li>
<li><strong><code>dist/index.d.ts</code></strong>: TypeScript definitions</li>
</ul>
<a id="md:🔄-migration-from-original-library" class="tsd-anchor"></a><h2><a href="#md:🔄-migration-from-original-library">🔄 Migration from Original Library</a></h2><p>This TypeScript version is a <strong>drop-in replacement</strong> for the original JavaScript library:</p>
<a id="md:before-original-js" class="tsd-anchor"></a><h3><a href="#md:before-original-js">Before (Original JS)</a></h3><pre><code class="language-javascript"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-1"> </span><span class="hl-7">src</span><span class="hl-1">=</span><span class="hl-2">&quot;retreaver.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span><br/><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-4">&gt;</span><br/><span class="hl-1">var campaign = new Retreaver.Campaign(</span><span class="hl-11">{</span><span class="hl-10">campaign_key</span><span class="hl-6">: </span><span class="hl-2">&#39;abc123&#39;</span><span class="hl-11">}</span><span class="hl-1">);</span><br/><span class="hl-1">campaign.request_number(</span><span class="hl-11">{</span><span class="hl-10">tag</span><span class="hl-6">: </span><span class="hl-2">&#39;value&#39;</span><span class="hl-11">}</span><span class="hl-1">, function(number) </span><span class="hl-11">{</span><br/><span class="hl-6">  </span><span class="hl-10">console</span><span class="hl-6">.</span><span class="hl-0">log</span><span class="hl-6">(</span><span class="hl-10">number</span><span class="hl-6">.</span><span class="hl-0">get</span><span class="hl-6">(</span><span class="hl-2">&#39;formatted_number&#39;</span><span class="hl-6">));</span><br/><span class="hl-11">}</span><span class="hl-1">);</span><br/><span class="hl-4">&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button>Copy</button></pre>
<a id="md:after-typescript" class="tsd-anchor"></a><h3><a href="#md:after-typescript">After (TypeScript)</a></h3><pre><code class="language-html"><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-6"> </span><span class="hl-7">src</span><span class="hl-6">=</span><span class="hl-8">&quot;@retreaver/retreaver-js/dist/browser/retreaver.js&quot;</span><span class="hl-4">&gt;&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span><br/><span class="hl-4">&lt;</span><span class="hl-5">script</span><span class="hl-4">&gt;</span><br/><span class="hl-3">// Exact same code works!</span><br/><span class="hl-11">var</span><span class="hl-6"> </span><span class="hl-10">campaign</span><span class="hl-6"> </span><span class="hl-1">=</span><span class="hl-6"> </span><span class="hl-11">new</span><span class="hl-6"> </span><span class="hl-10">Retreaver</span><span class="hl-6">.</span><span class="hl-0">Campaign</span><span class="hl-6">({</span><span class="hl-10">campaign_key:</span><span class="hl-6"> </span><span class="hl-2">&#39;abc123&#39;</span><span class="hl-6">});</span><br/><span class="hl-10">campaign</span><span class="hl-6">.</span><span class="hl-0">request_number</span><span class="hl-6">({</span><span class="hl-10">tag:</span><span class="hl-6"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-6">}, </span><span class="hl-11">function</span><span class="hl-6">(</span><span class="hl-10">number</span><span class="hl-6">) {</span><br/><span class="hl-6">  </span><span class="hl-10">console</span><span class="hl-6">.</span><span class="hl-0">log</span><span class="hl-6">(</span><span class="hl-10">number</span><span class="hl-6">.</span><span class="hl-0">get</span><span class="hl-6">(</span><span class="hl-2">&#39;formatted_number&#39;</span><span class="hl-6">));</span><br/><span class="hl-6">});</span><br/><span class="hl-4">&lt;/</span><span class="hl-5">script</span><span class="hl-4">&gt;</span>
</code><button>Copy</button></pre>
<p><strong>Or with modern TypeScript:</strong></p>
<pre><code class="language-typescript"><span class="hl-9">import</span><span class="hl-1"> { </span><span class="hl-10">Campaign</span><span class="hl-1"> } </span><span class="hl-9">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@retreaver/retreaver-js&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-11">const</span><span class="hl-1"> </span><span class="hl-12">campaign</span><span class="hl-1"> = </span><span class="hl-11">new</span><span class="hl-1"> </span><span class="hl-0">Campaign</span><span class="hl-1">({</span><span class="hl-10">campaign_key:</span><span class="hl-1"> </span><span class="hl-2">&#39;abc123&#39;</span><span class="hl-1">});</span><br/><span class="hl-10">campaign</span><span class="hl-1">.</span><span class="hl-0">requestNumber</span><span class="hl-1">({</span><span class="hl-10">tag:</span><span class="hl-1"> </span><span class="hl-2">&#39;value&#39;</span><span class="hl-1">}, (</span><span class="hl-10">number</span><span class="hl-1">) </span><span class="hl-11">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-10">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-10">number</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;formatted_number&#39;</span><span class="hl-1">));</span><br/><span class="hl-1">});</span>
</code><button>Copy</button></pre>
<a id="md:🔍-development" class="tsd-anchor"></a><h2><a href="#md:🔍-development">🔍 Development</a></h2><a id="md:building-from-source" class="tsd-anchor"></a><h3><a href="#md:building-from-source">Building from Source</a></h3><pre><code class="language-bash"><span class="hl-3"># Install dependencies</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><br/><br/><span class="hl-3"># Build all targets</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build</span><br/><br/><span class="hl-3"># Build specific targets</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:cjs</span><span class="hl-1">    </span><span class="hl-3"># CommonJS</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:esm</span><span class="hl-1">    </span><span class="hl-3"># ES Modules</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:browser</span><span class="hl-1"> </span><span class="hl-3"># Browser UMD</span><br/><br/><span class="hl-3"># Watch mode for development</span><br/><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">build:dev</span>
</code><button>Copy</button></pre>
<a id="md:project-structure" class="tsd-anchor"></a><h3><a href="#md:project-structure">Project Structure</a></h3><pre><code><span class="hl-10">src</span><span class="hl-1">-</span><span class="hl-10">ts</span><span class="hl-1">/</span><br/><span class="hl-1">├── </span><span class="hl-10">types</span><span class="hl-1">/              # </span><span class="hl-10">TypeScript</span><span class="hl-1"> </span><span class="hl-11">type</span><span class="hl-1"> </span><span class="hl-13">definitions</span><br/><span class="hl-1">├── base/               # Foundation classes</span><br/><span class="hl-1">│   ├── Helpers.ts      # Utility functions</span><br/><span class="hl-1">│   ├── Cookies.ts      # Cookie management</span><br/><span class="hl-1">│   ├── Data.ts         # Data storage</span><br/><span class="hl-1">│   ├── Model.ts        # Base model class</span><br/><span class="hl-1">│   ├── Request.ts      # HTTP client</span><br/><span class="hl-1">│   └── RequestNumber.ts # Number request logic</span><br/><span class="hl-1">├── vendor/             # Third-party utilities</span><br/><span class="hl-1">│   └── FindAndReplaceDOMText.ts</span><br/><span class="hl-1">├── Campaign.ts         # Campaign management</span><br/><span class="hl-1">├── Number.ts           # Number management</span><br/><span class="hl-1">├── configure.ts        # Configuration function</span><br/><span class="hl-1">└── index.ts            # Main entry point</span>
</code><button>Copy</button></pre>
<a id="md:📄-license" class="tsd-anchor"></a><h2><a href="#md:📄-license">📄 License</a></h2><p>GPL-3.0 - Same as the original library</p>
<a id="md:🤝-contributing" class="tsd-anchor"></a><h2><a href="#md:🤝-contributing">🤝 Contributing</a></h2><p>Contributions are welcome! Please ensure:</p>
<ol>
<li>100% compatibility with original library is maintained</li>
<li>All TypeScript interfaces are properly typed</li>
<li>Tests pass for all build targets</li>
<li>Documentation is updated</li>
</ol>
<a id="md:⚠️-breaking-changes" class="tsd-anchor"></a><h2><a href="#md:⚠️-breaking-changes">⚠️ Breaking Changes</a></h2><p><strong>None!</strong> This is a feature, not a bug. The library maintains 100% API compatibility with the original JavaScript version while adding TypeScript benefits.</p>
<a id="md:📞-support" class="tsd-anchor"></a><h2><a href="#md:📞-support">📞 Support</a></h2><ul>
<li><strong>Issues</strong>: <a href="https://github.com/retreaver/retreaverjs/issues">GitHub Issues</a></li>
<li><strong>Documentation</strong>: <a href="https://retreaver.com/documentation/javascript/v1/">Retreaver Documentation</a></li>
<li><strong>Original Library</strong>: <a href="https://github.com/retreaver/retreaverjs">GitHub</a></li>
</ul>
<hr>
<p><strong>Built with ❤️ by the Retreaver team. Maintaining the power of the original with the safety of TypeScript.</strong></p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:retreaver-javascript-api---typescript-edition"><span>Retreaver <wbr/>Java<wbr/>Script API -<wbr/> <wbr/>Type<wbr/>Script <wbr/>Edition</span></a><ul><li><a href="#md:🚀-features"><span>🚀 <wbr/>Features</span></a></li><li><a href="#md:📦-installation"><span>📦 <wbr/>Installation</span></a></li><li><ul><li><a href="#md:npmyarn-recommended"><span>NPM/<wbr/>Yarn (<wbr/>Recommended)</span></a></li><li><a href="#md:cdn-browser"><span>CDN (<wbr/>Browser)</span></a></li></ul></li><li><a href="#md:🔧-usage"><span>🔧 <wbr/>Usage</span></a></li><li><ul><li><a href="#md:typescriptes-modules"><span>Type<wbr/>Script/ES <wbr/>Modules</span></a></li><li><a href="#md:commonjs-nodejs"><span>CommonJS (<wbr/>Node.js)</span></a></li><li><a href="#md:browser-global"><span>Browser (<wbr/>Global)</span></a></li></ul></li><li><a href="#md:📚-api-reference"><span>📚 API <wbr/>Reference</span></a></li><li><ul><li><a href="#md:campaign-class"><span>Campaign <wbr/>Class</span></a></li><li><ul><li><a href="#md:constructor"><span>Constructor</span></a></li><li><a href="#md:methods"><span>Methods</span></a></li></ul></li><li><a href="#md:number-class"><span>Number <wbr/>Class</span></a></li><li><ul><li><a href="#md:methods-1"><span>Methods</span></a></li><li><a href="#md:properties"><span>Properties</span></a></li></ul></li></ul></li><li><a href="#md:🔧-configuration"><span>🔧 <wbr/>Configuration</span></a></li><li><a href="#md:🎯-type-definitions"><span>🎯 <wbr/>Type <wbr/>Definitions</span></a></li><li><a href="#md:🌍-third-party-integrations"><span>🌍 <wbr/>Third-<wbr/>party <wbr/>Integrations</span></a></li><li><a href="#md:🏗️-build-targets"><span>🏗️ <wbr/>Build <wbr/>Targets</span></a></li><li><a href="#md:🔄-migration-from-original-library"><span>🔄 <wbr/>Migration from <wbr/>Original <wbr/>Library</span></a></li><li><ul><li><a href="#md:before-original-js"><span>Before (<wbr/>Original JS)</span></a></li><li><a href="#md:after-typescript"><span>After (<wbr/>Type<wbr/>Script)</span></a></li></ul></li><li><a href="#md:🔍-development"><span>🔍 <wbr/>Development</span></a></li><li><ul><li><a href="#md:building-from-source"><span>Building from <wbr/>Source</span></a></li><li><a href="#md:project-structure"><span>Project <wbr/>Structure</span></a></li></ul></li><li><a href="#md:📄-license"><span>📄 <wbr/>License</span></a></li><li><a href="#md:🤝-contributing"><span>🤝 <wbr/>Contributing</span></a></li><li><a href="#md:⚠️-breaking-changes"><span>⚠️ <wbr/>Breaking <wbr/>Changes</span></a></li><li><a href="#md:📞-support"><span>📞 <wbr/>Support</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Retreaver JavaScript API - v1.0.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>